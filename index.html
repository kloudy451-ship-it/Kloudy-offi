<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Coder PRO v11.5 - Open</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/editor/editor.main.min.css">
    <style>
        :root { --accent: #00d2ff; --bg: #000810; --panel: rgba(0, 15, 30, 0.95); }
        body { 
            margin: 0; background: var(--bg); color: #fff; font-family: monospace; 
            height: 100vh; display: flex; flex-direction: column; overflow: hidden;
            background-image: url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop');
            background-size: cover;
        }
        header { background: var(--panel); padding: 10px; border-bottom: 1px solid var(--accent); display: flex; justify-content: space-between; align-items: center; }
        #workspace { display: flex; flex: 1; overflow: hidden; }
        #editor { flex: 1; }
        .btn { background: var(--accent); color: #000; border: none; padding: 5px 15px; cursor: pointer; font-weight: bold; border-radius: 2px; }
        #terminal { height: 120px; background: #000; border-top: 1px solid var(--accent); padding: 10px; font-size: 12px; overflow-y: auto; }
    </style>
</head>
<body>

<header>
    <div style="color: var(--accent); font-weight: bold;">CODER_PRO_OPEN</div>
    <div style="display: flex; gap: 10px;">
        <button class="btn" onclick="buildAndRun()">RUN ▶</button>
    </div>
</header>

<div id="workspace">
    <div id="editor"></div>
</div>

<div id="terminal">> System initialized. No authentication required.</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs/loader.min.js"></script>

<script>
    // Инициализация сразу при загрузке
    require.config({ paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.36.1/min/vs' } });
    require(['vs/editor/editor.main'], function() {
        window.editor = monaco.editor.create(document.getElementById('editor'), {
            value: "// Код защищен только твоей приватностью\nconsole.log('Hello World');",
            language: 'javascript',
            theme: 'vs-dark',
            automaticLayout: true
        });
        console.log("Editor ready.");
    });

    function buildAndRun() {
        const code = window.editor.getValue();
        const term = document.getElementById('terminal');
        try {
            term.innerHTML = "> Executing...<br>";
            // Перехват консоли для вывода в терминал
            const oldLog = console.log;
            console.log = (msg) => { term.innerHTML += `> ${msg}<br>`; };
            
            new Function(code)();
            
            console.log = oldLog;
        } catch (err) {
            term.innerHTML += `<span style="color:red">> Error: ${err.message}</span>`;
        }
    }
</script>
</body>
</html>
